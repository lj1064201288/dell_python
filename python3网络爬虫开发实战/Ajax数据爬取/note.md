# Ajax数据爬取
- 在浏览器中可以看到正常显示的页面数据,但是使用requests得到的结果并没有.
- 这是因为requests获取的都是原始的HTML文档,儿浏览器中的页面则是经过JavaScript处理数据后生成的结果.
- 这些数据的来源有多种,可能是通过Ajax加载的,可能包含在HTML文档中的,也可能是经过JavaScript和特定算法计算后生成的
- Ajax请求:数据加载是一种异步的方式,原始的页面最初不会包含某些数据,原始页面加载完后,会再向服务器请求某个接口获取数据,然后数据才被处理从而呈现在网页上
- 照Web发展的趋势来看,这种形式的页面越来越多网页的原始HTML文档不会包含任何数据,数据都是通过Ajax通过统一加载后呈现出来的,这样在Web开发上可以做到前后端分离,而且降低服务器直接渲染也爱你带来的压力
- 遇到在这样的页面,直接利用requests等库来抓取原始页面,是无法获取到有效数据的,这是需要分析页面后台向接口发送的Ajax请求
- 可以利用requests来模拟Ajax请求,那么就可以成功抓取了
## 什么是Ajax
- Ajax全称为Asynchronous JavaScript and XML,即异步的JavaScript和XML,他不是一门编程语言,而是利用JavaScript在保证页面不被刷新
- 页面链接不改变的情况下与服务器交换数据并更新部分网页技术
- 基本原理:
    - 发送请求
    - 解析内容
    - 渲染页面
    - 案例:Ajax1.js
## Ajax分析方法
- 查看请求
    - 使用Chrome浏览器查看
    - 在Elements选项卡中便会观察到网页的代码
    - 然后切换到Network选项,刷新页面可以发现有非常多的条目
    - Ajax有其特殊的请求类型,叫做xhr
    - 利用Chrome开发者工具的筛选出所有的Ajax请求,在请求上方选择XMR,此时在下方显示的所有请求都是Ajax请求了
- Ajax结果提取
    - 打开Ajax的XHR过滤器,然后一直滑动页面以加载新的微博内容,可以看到会有不断的Aax发出,选择其中一个,分析它的参数信息
    - 案例:Ajax.py
- Ajax实战案例今日头条
    - 准备工作
        - 确认已经安装好requests库
    - 抓取分析
        - 打开今日头条首页url:[http://www.tutiao.com/],右上角有一个搜索入口,这里尝试抓取街拍美图
    - 实战演练
        - 案例Ajax1.py
        
        