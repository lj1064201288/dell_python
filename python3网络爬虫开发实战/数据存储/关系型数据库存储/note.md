# 关系型数据库存储
- 关系型数据库是基于关系模型的数据库,而关系模型是通过二维表来保存的,所以它的存储方式就是行列组成的列表,每一列是一个字段
- 每一行是一条记录,表可以看作某个实体的集合,而实体之间存在联系,这就需要表与表之间的关联关系来体现,如主键外键的关联关系,多个表组成一个数据库,也就是关系型数据库
- 关系型数据库有多种,如SQLite, MySQL, Oracle, SQL Server, DB2等
## MySQL的存储
- 首先连接一下数据库,假设当前的MySQL运行在本地,用户名为root,密码为123456,运行端口为3306.
- 这里利用PyMySQL先链接MySQL.然后创建一个新的数据库,名字叫做spiders
    - 案例: 连接数据库.py
    - 案例:数据库1.py
- 创建表
    - 一般来说,创建数据库的操作只需要执行依次就好了，当然我们也可以手动创建数据库,以后,我们的操作都在spiders数据库上执行
    - 创建数据库后，在连接时需要额外的指定一个参数db
    - 创建一个数据表studetns
    - 案例: 创建表.py
    - 案例:数据库2.py
- 插入数据
    - 向数据库当中插入数据
    - 首先构造SQL语句,其Value值没有用字符串拼接的方式构造
    - 需要执行commit()方法才可以实现数据插入,这个方法才是真正对将语句提交到数据库执行的方法,对于数据插入,更新,删除操作,都需要调用该方法才能生效
    - rollback()方法,执行数据回滚,相当于什么都没有发生
    - 案例:插入数据.py
    - 在很多情况下,我们要达到的效果是插入方法无需改动,做成一个通用方法,只需要传入一个动态变化的字典
    - 然后SQL语句会根据字典动态构造,元组夜动态构造,这样才能实现通用的插入方法
    - 案例:插入数据2.py
    - 案例:数据库3.py
- 更新数据
    - 数据更新操作实际上也是执行SQL语句,最简单的方式就是构造一个SQL语句
    - 使用占位符的方式构造SQL,然后执行execute()方法,传入元组形式的参数,同样执行commit()方法执行操作,如果只是简单的数据更新的话,完全可以使用此方法
    - 案例: 更新数据1.py
    - 在实际的数据抓取中,大部分情况需要出啊如数据,但是我们关心的是会不会出现重复数据,如果出现了,我们希望更新数据而不是重复保存一次.
    - 所以这里可以实现一种去重的方法,如果数据存在,则更新数据,如果不存在,则插入数据,另外,这种做法支持灵活的字典传值
    - 案例： 更新数据2.py
- 删除数据
    - 删除操作相对简单,直接使用delete语句即可,只是需要指定要删除的目标名和删除条件,而且荏苒需要使用db的commit()方法生效
    - 案例:删除数据.py
    - 因为删除条件有多种多样,运算符有大于,小于,等于,LIKE等,条件连接符有and，or等,所以不再继续构造复杂的判断条件
- 查询数据
    - 查询会用到select语句